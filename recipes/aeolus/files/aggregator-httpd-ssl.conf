NameVirtualHost *:443
<VirtualHost *:443>

  ErrorLog /etc/httpd/logs/error_log
  TransferLog /etc/httpd/logs/access_log
  LogLevel debug

  ProxyRequests Off
  SSLEngine On
  SSLCertificateFile /etc/pki/tls/certs/localhost.crt
  SSLCertificateKeyFile /etc/pki/tls/private/localhost.key
  ProxyPreserveHost Off
  RequestHeader set X_FORWARDED_PROTO 'https'

Alias /conductor/stylesheets "/usr/share/aeolus-conductor/public/stylesheets"
Alias /conductor/images "/usr/share/aeolus-conductor/public/images"
Alias /conductor/errors "/usr/share/aeolus-conductor/public/errors"
Alias /conductor/javascripts "/usr/share/aeolus-conductor/public/javascripts"
Alias /fonts "/usr/share/aeolus-conductor/public/fonts"

ProxyPass /conductor/images !
ProxyPass /conductor/stylesheets !
ProxyPass /conductor/errors !
ProxyPass /conductor/javascripts !
ProxyPass /conductor http://localhost:3000/conductor
ProxyPassReverse /conductor http://localhost:3000/conductor
ProxyPassReverse /conductor/images !
ProxyPassReverse /conductor/stylesheets !
ProxyPassReverse /conductor/errors !
ProxyPassReverse /conductor/javascripts !

</VirtualHost>

NameVirtualHost *:80
<VirtualHost *:80>
  RewriteEngine On
  RewriteCond %{HTTPS} off
  RewriteRule /conductor(.*) https://%{HTTP_HOST}%{REQUEST_URI}
</VirtualHost>

